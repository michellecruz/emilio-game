(this["webpackJsonpmilio-food"]=this["webpackJsonpmilio-food"]||[]).push([[0],{14:function(t,e,i){},15:function(t,e,i){},16:function(t,e,i){"use strict";i.r(e);var n,o,a,s,r,c,l,p,m,u,d,b,w,g,f,y,h,v=i(1),E=i.n(v),x=i(7),k=i.n(x),z=(i(14),i(2)),S=i(8),j=i(4),q=i(3),A=i(0),L=function(t){Object(j.a)(i,t);var e=Object(q.a)(i);function i(){var t;Object(z.a)(this,i);for(var v=arguments.length,E=new Array(v),x=0;x<v;x++)E[x]=arguments[x];return(t=e.call.apply(e,[this].concat(E))).state={kibbleEaten:0,isEating:!1},t.init=function(){(n=new A.d(1.8,window.innerWidth/window.innerHeight,1,1e3)).position.set(0,8,1e3),(o=new A.e).background=new A.a(16777215),s=new A.f(4.5,32,32),r=(new A.g).load("img/milio3.jpg"),c=(new A.g).load("img/milio3-open.jpg"),l=new A.c({map:r}),(p=new A.b(s,l)).position.x=-32,p.position.y=26,p.position.z=1,p.rotation.x=.2,p.rotation.y=6.6,p.rotation.z=5,p.material.map.needsUpdate=!0,t.kibble(),o.add(p),(a=new A.h({antialias:!0})).setPixelRatio(window.devicePixelRatio),a.setSize(window.innerWidth,window.innerHeight),t.refs.canvas.appendChild(a.domElement),h=document.querySelector(".count")},t.kibble=function(){m=new A.f(2,32,32),u=(new A.g).load("img/kibble.png"),d=new A.c({map:u,transparent:!0}),(b=new A.b(m,d)).rotation.y=10,b.position.x=15,b.position.y=10,b.position.z=8,o.add(b),w=new A.f(2,32,32),g=(new A.g).load("img/kibble.png"),f=new A.c({map:g,transparent:!0}),(y=new A.b(w,f)).rotation.y=10,y.position.x=85,y.position.y=16,y.position.z=8,o.add(y)},t.animate=function(){requestAnimationFrame(t.animate),p.position.x+=.2,p.position.y>0?(p.position.y-=.2,p.position.x+=.5,p.position.x<0?p.rotation.z-=.05*-p.position.y:p.rotation.z-=.01*-p.position.y):(p.material.map=r,p.rotation.z-=.05),p.position.x>0&&(n.position.x=p.position.x),a.render(o,n),t.eatKibble(y,p),t.eatKibble(b,p)},t.eatKibble=function(e,i){t.spheresIntersect(e.geometry.boundingSphere,e.position,i.geometry.boundingSphere,i.position)?t.setState({isEating:!0}):t.setState({isEating:!1}),t.emilioEating(e,i)},t.emilioEating=function(e,i){console.log(e.layers.mask),t.state.isEating?(e.visible=!1,i.scale.set(i.scale.x+.01,i.scale.y+.01,i.scale.z+.01),i.rotation.z=-1.5,t.setState({kibbleEaten:t.state.kibbleEaten+1}),h.classList.add("active"),requestAnimationFrame((function(){i.material.map===r?setTimeout((function(){i.material.map=c}),50):setTimeout((function(){i.material.map=r}),50)}))):h.classList.contains("active")&&h.classList.remove("active")},t.changePosition=function(){p.position.x+=.001,p.position.y+=4,p.position.x>0&&(n.position.x+=.001),p.position.y>0&&(p.position.y+=-.01*p.position.y*2),p.material.map=c},t.spheresIntersect=function(t,e,i,n){return function(t,e){var i=t.x-e.x,n=t.y-e.y;return Math.sqrt(i*i+n*n)}(e,n)<=t.radius+i.radius},t}return Object(S.a)(i,[{key:"componentDidMount",value:function(){var t=this;this.init(),this.animate(),document.addEventListener("keydown",(function(e){return 32===e.keyCode?requestAnimationFrame(t.changePosition):null})),window.addEventListener("touchstart",this.changePosition)}},{key:"render",value:function(){return E.a.createElement("div",null,E.a.createElement("div",{className:"count"},this.state.kibbleEaten),E.a.createElement("div",{ref:"canvas"}))}}]),i}(v.Component);i(15);var P=function(){return E.a.createElement("div",{className:"App"},E.a.createElement(L,null))};k.a.render(E.a.createElement(E.a.StrictMode,null,E.a.createElement(P,null)),document.getElementById("root"))},9:function(t,e,i){t.exports=i(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.0310e7d5.chunk.js.map