(this["webpackJsonpmilio-food"]=this["webpackJsonpmilio-food"]||[]).push([[0],{14:function(t,i,e){},15:function(t,i,e){},16:function(t,i,e){"use strict";e.r(i);var n,o,a,s,r,l,c,m,p,d,u,b,y,h,w,g,f,v=e(1),E=e.n(v),x=e(7),z=e.n(x),k=(e(14),e(2)),S=e(8),j=e(4),q=e(3),K=e(0),A=function(t){Object(j.a)(e,t);var i=Object(q.a)(e);function e(){var t;Object(k.a)(this,e);for(var v=arguments.length,E=new Array(v),x=0;x<v;x++)E[x]=arguments[x];return(t=i.call.apply(i,[this].concat(E))).state={width:window.innerWidth,height:window.innerHeight,kibbleEaten:0,emilio:{isEating:!1,isTwirling:!1,position:{x:-25,y:26,z:1},rotation:{x:.2,y:6.6,z:5}}},t.init=function(){l=(new K.g).load("img/milio4.jpg"),c=(new K.g).load("img/milio4-open.jpg"),(n=new K.d(1.8,window.innerWidth/window.innerHeight,1,1e3)).position.set(0,5,1e3),(o=new K.e).background=new K.a(16777215),r=new K.f(4.5,32,32),m=new K.c({map:l}),(p=new K.b(r,m)).position.x=t.state.emilio.position.x,p.position.y=t.state.emilio.position.y,p.position.z=t.state.emilio.position.z,p.rotation.x=t.state.emilio.rotation.x,p.rotation.y=t.state.emilio.rotation.y,p.rotation.z=t.state.emilio.rotation.z,p.material.map.needsUpdate=!0,o.add(p),t.kibble(),(a=new K.h({antialias:!0})).setPixelRatio(window.devicePixelRatio),a.setSize(t.state.width,t.state.height);var i=document.querySelector(".container"),e=document.querySelector(".emiliocanvas");i.replaceChild(a.domElement,e),s=a.getContext("2d").canvas,t.setState({width:s.clientWidth,height:s.clientHeight})},t.kibble=function(){d=new K.f(2,32,32),u=(new K.g).load("img/kibble.png"),b=new K.c({map:u,transparent:!0}),(y=new K.b(d,b)).rotation.y=10,y.position.x=15,y.position.y=10,y.position.z=8,o.add(y),(h=new K.b(d,b)).rotation.y=10,h.position.x=85,h.position.y=15,h.position.z=8,o.add(h),(w=new K.b(d,b)).rotation.y=10,w.position.x=185,w.position.y=5,w.position.z=8,o.add(w),(g=new K.b(d,b)).rotation.y=10,g.position.x=285,g.position.y=20,g.position.z=8,o.add(g),(f=new K.b(d,b)).rotation.y=10,f.position.x=330,f.position.y=8,f.position.z=8,o.add(f)},t.animate=function(){requestAnimationFrame(t.animate),p.position.x+=.2,p.position.y>0?(p.position.x+=.3,p.position.y-=.2,p.rotation.z+=.9*p.position.y*.01):p.rotation.z-=.05,p.position.x>0&&(n.position.x=p.position.x),document.addEventListener("keydown",(function(t){84===t.keyCode&&(p.rotation.z=-1.5,p.rotation.y=-3.3,p.rotation.y+=.05)})),a.render(o,n),p.position.y<=0&&!t.state.emilio.isEating&&(p.material.map=l),t.eatKibble(f,p),t.eatKibble(g,p),t.eatKibble(w,p),t.eatKibble(h,p),t.eatKibble(y,p)},t.changePosition=function(){p.position.y+=5,p.position.y>0&&(p.position.y+=-.01*p.position.y*2,p.material.map=c)},t.eatKibble=function(i,e){t.spheresIntersect(i.geometry.boundingSphere,i.position,e.geometry.boundingSphere,e.position)?t.setState({emilio:{isEating:!0}}):t.setState({emilio:{isEating:!1}}),t.emilioEating(i,e)},t.emilioEating=function(i,e){t.state.emilio.isEating&&(i.visible=!1,e.scale.set(e.scale.x+.01,e.scale.y+.01,e.scale.z+.01),e.rotation.z=-1.5,t.setState({kibbleEaten:t.state.kibbleEaten+1}),requestAnimationFrame((function(){e.material.map===l?setTimeout((function(){e.material.map=c,e.rotation.z+=.02,e.material.map===c&&setTimeout((function(){e.material.map=l,e.rotation.z-=.02}),60)}),60):setTimeout((function(){e.material.map=l,e.rotation.z+=.02}),60)})))},t.spheresIntersect=function(t,i,e,n){return function(t,i){var e=t.x-i.x,n=t.y-i.y;return Math.sqrt(e*e+n*n)}(i,n)<=t.radius+e.radius},t}return Object(S.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.init(),this.animate(),document.addEventListener("keydown",(function(i){console.log(p.rotation.y),32===i.keyCode&&requestAnimationFrame(t.changePosition)})),window.addEventListener("touchstart",this.changePosition)}},{key:"render",value:function(){return E.a.createElement("div",{className:"container"},E.a.createElement("div",{className:"note"},"press the spacebar or tap to jump"),E.a.createElement("div",{id:"count",className:"".concat(this.state.emilio.isEating?"active":"inactive")},this.state.kibbleEaten),E.a.createElement("div",{className:"emiliocanvas"}))}}]),e}(v.Component);e(15);var C=function(){return E.a.createElement("div",{className:"App"},E.a.createElement(A,null))};z.a.render(E.a.createElement(E.a.StrictMode,null,E.a.createElement(C,null)),document.getElementById("root"))},9:function(t,i,e){t.exports=e(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.7ea292ad.chunk.js.map