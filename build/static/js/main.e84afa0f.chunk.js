(this["webpackJsonpmilio-food"]=this["webpackJsonpmilio-food"]||[]).push([[0],{14:function(t,i,e){},15:function(t,i,e){},16:function(t,i,e){"use strict";e.r(i);var n,o,a,s,r,c,l,p,d,m,u,b,y,w,g,f,h,v=e(1),E=e.n(v),x=e(7),k=e.n(x),z=(e(14),e(2)),S=e(8),j=e(4),K=e(3),q=e(0),A=function(t){Object(j.a)(e,t);var i=Object(K.a)(e);function e(){var t;Object(z.a)(this,e);for(var v=arguments.length,E=new Array(v),x=0;x<v;x++)E[x]=arguments[x];return(t=i.call.apply(i,[this].concat(E))).state={kibbleEaten:0,isEating:!1},t.init=function(){(n=new q.d(1.8,window.innerWidth/window.innerHeight,1,1e3)).position.set(0,5,1e3),(o=new q.e).background=new q.a(16777215),s=new q.f(4.5,32,32),r=(new q.g).load("img/milio3.jpg"),c=(new q.g).load("img/milio3-open.jpg"),l=new q.c({map:r}),(p=new q.b(s,l)).position.x=-32,p.position.y=26,p.position.z=1,p.rotation.x=.2,p.rotation.y=6.6,p.rotation.z=5,p.material.map.needsUpdate=!0,t.kibble(),o.add(p),(a=new q.h({antialias:!0})).setPixelRatio(window.devicePixelRatio),a.setSize(window.innerWidth,window.innerHeight),t.refs.canvas.appendChild(a.domElement),h=document.querySelector(".count")},t.kibble=function(){d=new q.f(2,32,32),m=(new q.g).load("img/kibble.png"),u=new q.c({map:m,transparent:!0}),(b=new q.b(d,u)).rotation.y=10,b.position.x=15,b.position.y=10,b.position.z=8,o.add(b),(y=new q.b(d,u)).rotation.y=10,y.position.x=85,y.position.y=15,y.position.z=8,o.add(y),(w=new q.b(d,u)).rotation.y=10,w.position.x=185,w.position.y=5,w.position.z=8,o.add(w),(g=new q.b(d,u)).rotation.y=10,g.position.x=285,g.position.y=20,g.position.z=8,o.add(g),(f=new q.b(d,u)).rotation.y=10,f.position.x=330,f.position.y=8,f.position.z=8,o.add(f)},t.animate=function(){requestAnimationFrame(t.animate),p.position.x+=.2,p.position.y>0?(p.position.y-=.2,p.position.x+=.3,p.position.x<0?p.rotation.z-=.05*-p.position.y:p.rotation.z-=.01*-p.position.y):p.rotation.z-=.05,p.position.x>0&&(n.position.x=p.position.x),a.render(o,n),t.eatKibble(f,p),t.eatKibble(g,p),t.eatKibble(w,p),t.eatKibble(y,p),t.eatKibble(b,p),p.position.y<=0&&!t.state.isEating&&(p.material.map=r)},t.eatKibble=function(i,e){t.spheresIntersect(i.geometry.boundingSphere,i.position,e.geometry.boundingSphere,e.position)?t.setState({isEating:!0}):t.setState({isEating:!1}),t.emilioEating(i,e)},t.emilioEating=function(i,e){console.log(i.layers.mask),t.state.isEating?(i.visible=!1,e.scale.set(e.scale.x+.02,e.scale.y+.02,e.scale.z+.02),e.rotation.z=-1.5,t.setState({kibbleEaten:t.state.kibbleEaten+1}),h.classList.add("active"),requestAnimationFrame((function(){e.material.map===r?setTimeout((function(){e.material.map=c}),50):setTimeout((function(){e.material.map=r}),50)}))):h.classList.contains("active")&&h.classList.remove("active")},t.changePosition=function(){p.position.y+=5,p.position.y>0&&(p.position.y+=-.01*p.position.y*2,p.material.map=c)},t.spheresIntersect=function(t,i,e,n){return function(t,i){var e=t.x-i.x,n=t.y-i.y;return Math.sqrt(e*e+n*n)}(i,n)<=t.radius+e.radius},t}return Object(S.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.init(),this.animate(),document.addEventListener("keydown",(function(i){return 32===i.keyCode?requestAnimationFrame(t.changePosition):null})),window.addEventListener("touchstart",this.changePosition)}},{key:"render",value:function(){return E.a.createElement("div",null,E.a.createElement("div",{className:"note"},"press the spacebar or tap to jump"),E.a.createElement("div",{className:"count"},this.state.kibbleEaten),E.a.createElement("div",{ref:"canvas"}))}}]),e}(v.Component);e(15);var L=function(){return E.a.createElement("div",{className:"App"},E.a.createElement(A,null))};k.a.render(E.a.createElement(E.a.StrictMode,null,E.a.createElement(L,null)),document.getElementById("root"))},9:function(t,i,e){t.exports=e(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.e84afa0f.chunk.js.map